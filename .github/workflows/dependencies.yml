# ~~ Generated by projen. To modify, edit .projenrc.js and run "npx projen".
name: dependencies
on:
  push:
    branches:
      - epolon/master
jobs:
  upgrade:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2
      - name: Setup Node
        uses: actions/setup-node@v1
        with:
          node-version: 10.17.0
      - name: Install npm-check-updates
        run: npm install npm-check-updates
      - name: Upgrade lock file
        run: yarn upgrade
      - name: Update CLI package.json
        run: cd packages/cdk8s-cli && npx ncu -u --target=minor
      - name: Create Pull Request
        uses: peter-evans/create-pull-request@v3
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          commit-message: Upgrade yarn.lock
          branch: github-actions/dependencies
          title: "chore(deps): Upgrade dependencies"
          body: |
            This PR upgrades yarn dependencies to the latest versions.

            ------

            *Automatically created via GitHubActions*
          labels: auto-merge
